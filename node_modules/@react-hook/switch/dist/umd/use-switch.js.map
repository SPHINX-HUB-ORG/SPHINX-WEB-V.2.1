{"version":3,"file":"use-switch.js","sources":["../../src/index.tsx","../../node_modules/@react-hook/latest/src/index.tsx"],"sourcesContent":["import * as React from 'react'\nimport useLatest from '@react-hook/latest'\n\n/**\n * A hook for creating controlled toggles with on, off, and toggle callbacks.\n * This is extremely useful for creating controlled inputs for components like Checkbox.\n *\n * @param defaultValue Sets the default value of the switch\n * @param controlledValue Sets the controlled value of the switch, which will override\n *  the defaultValue\n * @param onChange A callback invoked whenever toggle callbacks that change state are invoked\n */\nfunction useSwitch(\n  defaultValue = false,\n  controlledValue?: boolean,\n  onChange: (value: boolean) => any = noop\n) {\n  const [current, setCurrent] = React.useState(controlledValue ?? defaultValue)\n  const storedOnChange = useLatest(onChange)\n\n  React.useEffect(() => {\n    if (typeof controlledValue === 'boolean') {\n      setCurrent(controlledValue)\n    }\n  }, [controlledValue])\n\n  const toggle = React.useCallback(() => {\n    setCurrent(!current)\n    storedOnChange.current(!current)\n  }, [storedOnChange, current])\n\n  return [\n    controlledValue ?? current,\n    Object.assign(toggle, {\n      on: React.useCallback(() => {\n        setCurrent(true)\n        if (!current) storedOnChange.current(true)\n      }, [storedOnChange, current]),\n      off: React.useCallback(() => {\n        setCurrent(false)\n        if (current) storedOnChange.current(false)\n      }, [storedOnChange, current]),\n    }),\n  ] as const\n}\n\nfunction noop() {}\n\nexport default useSwitch\n","import * as React from 'react'\n\nconst useLatest = <T extends any>(current: T) => {\n  const storedValue = React.useRef(current)\n  React.useEffect(() => {\n    storedValue.current = current\n  })\n  return storedValue\n}\n\nexport default useLatest\n"],"names":["noop","defaultValue","controlledValue","onChange","React","current","setCurrent","storedOnChange","storedValue","useLatest","toggle","_extends","on","off"],"mappings":"ibA8CA,SAASA,YAlCT,SACEC,EACAC,EACAC,YAFAF,IAAAA,EAAe,YAEfE,IAAAA,EAAoCH,SAENI,WAAeF,MAAAA,EAAAA,EAAmBD,GAAzDI,OAASC,OACVC,EChBU,SAAgBF,OAC1BG,EAAcJ,SAAaC,UACjCD,aAAgB,WACdI,EAAYH,QAAUA,KAEjBG,EDWgBC,CAAUN,GAEjCC,aAAgB,WACiB,kBAApBF,GACTI,EAAWJ,KAEZ,CAACA,QAEEQ,EAASN,eAAkB,WAC/BE,GAAYD,GACZE,EAAeF,SAASA,KACvB,CAACE,EAAgBF,UAEb,CACLH,MAAAA,EAAAA,EAAmBG,EACnBM,EAAcD,EAAQ,CACpBE,GAAIR,eAAkB,WACpBE,EAAW,GACND,GAASE,EAAeF,QAAQ,KACpC,CAACE,EAAgBF,IACpBQ,IAAKT,eAAkB,WACrBE,EAAW,GACPD,GAASE,EAAeF,QAAQ,KACnC,CAACE,EAAgBF"}