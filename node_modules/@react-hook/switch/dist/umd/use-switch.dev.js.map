{"version":3,"file":"use-switch.dev.js","sources":["../../node_modules/@react-hook/latest/src/index.tsx","../../src/index.tsx"],"sourcesContent":["import * as React from 'react'\n\nconst useLatest = <T extends any>(current: T) => {\n  const storedValue = React.useRef(current)\n  React.useEffect(() => {\n    storedValue.current = current\n  })\n  return storedValue\n}\n\nexport default useLatest\n","import * as React from 'react'\nimport useLatest from '@react-hook/latest'\n\n/**\n * A hook for creating controlled toggles with on, off, and toggle callbacks.\n * This is extremely useful for creating controlled inputs for components like Checkbox.\n *\n * @param defaultValue Sets the default value of the switch\n * @param controlledValue Sets the controlled value of the switch, which will override\n *  the defaultValue\n * @param onChange A callback invoked whenever toggle callbacks that change state are invoked\n */\nfunction useSwitch(\n  defaultValue = false,\n  controlledValue?: boolean,\n  onChange: (value: boolean) => any = noop\n) {\n  const [current, setCurrent] = React.useState(controlledValue ?? defaultValue)\n  const storedOnChange = useLatest(onChange)\n\n  React.useEffect(() => {\n    if (typeof controlledValue === 'boolean') {\n      setCurrent(controlledValue)\n    }\n  }, [controlledValue])\n\n  const toggle = React.useCallback(() => {\n    setCurrent(!current)\n    storedOnChange.current(!current)\n  }, [storedOnChange, current])\n\n  return [\n    controlledValue ?? current,\n    Object.assign(toggle, {\n      on: React.useCallback(() => {\n        setCurrent(true)\n        if (!current) storedOnChange.current(true)\n      }, [storedOnChange, current]),\n      off: React.useCallback(() => {\n        setCurrent(false)\n        if (current) storedOnChange.current(false)\n      }, [storedOnChange, current]),\n    }),\n  ] as const\n}\n\nfunction noop() {}\n\nexport default useSwitch\n"],"names":["useLatest","current","storedValue","React","useSwitch","defaultValue","controlledValue","onChange","noop","setCurrent","storedOnChange","toggle","on","off"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;EAEA,IAAMA,SAAS,GAAG,SAAZA,SAAY,CAAgBC,OAAhB,EAA+B;EAC/C,MAAMC,WAAW,GAAGC,YAAA,CAAaF,OAAb,CAApB;EACAE,EAAAA,eAAA,CAAgB,YAAM;EACpBD,IAAAA,WAAW,CAACD,OAAZ,GAAsBA,OAAtB;EACD,GAFD;EAGA,SAAOC,WAAP;EACD,CAND;;ECCA;;;;;;;;;;EASA,SAASE,SAAT,CACEC,YADF,EAEEC,eAFF,EAGEC,QAHF,EAIE;EAAA,MAHAF,YAGA;EAHAA,IAAAA,YAGA,GAHe,KAGf;EAAA;;EAAA,MADAE,QACA;EADAA,IAAAA,QACA,GADoCC,IACpC;EAAA;;EAAA,wBAC8BL,cAAA,CAAeG,eAAf,aAAeA,eAAf,cAAeA,eAAf,GAAkCD,YAAlC,CAD9B;EAAA,MACOJ,OADP;EAAA,MACgBQ,UADhB;;EAEA,MAAMC,cAAc,GAAGV,SAAS,CAACO,QAAD,CAAhC;EAEAJ,EAAAA,eAAA,CAAgB,YAAM;EACpB,QAAI,OAAOG,eAAP,KAA2B,SAA/B,EAA0C;EACxCG,MAAAA,UAAU,CAACH,eAAD,CAAV;EACD;EACF,GAJD,EAIG,CAACA,eAAD,CAJH;EAMA,MAAMK,MAAM,GAAGR,iBAAA,CAAkB,YAAM;EACrCM,IAAAA,UAAU,CAAC,CAACR,OAAF,CAAV;EACAS,IAAAA,cAAc,CAACT,OAAf,CAAuB,CAACA,OAAxB;EACD,GAHc,EAGZ,CAACS,cAAD,EAAiBT,OAAjB,CAHY,CAAf;EAKA,SAAO,CACLK,eADK,aACLA,eADK,cACLA,eADK,GACcL,OADd,EAEL,SAAcU,MAAd,EAAsB;EACpBC,IAAAA,EAAE,EAAET,iBAAA,CAAkB,YAAM;EAC1BM,MAAAA,UAAU,CAAC,IAAD,CAAV;EACA,UAAI,CAACR,OAAL,EAAcS,cAAc,CAACT,OAAf,CAAuB,IAAvB;EACf,KAHG,EAGD,CAACS,cAAD,EAAiBT,OAAjB,CAHC,CADgB;EAKpBY,IAAAA,GAAG,EAAEV,iBAAA,CAAkB,YAAM;EAC3BM,MAAAA,UAAU,CAAC,KAAD,CAAV;EACA,UAAIR,OAAJ,EAAaS,cAAc,CAACT,OAAf,CAAuB,KAAvB;EACd,KAHI,EAGF,CAACS,cAAD,EAAiBT,OAAjB,CAHE;EALe,GAAtB,CAFK,CAAP;EAaD;;EAED,SAASO,IAAT,GAAgB;;;;;;;;"}