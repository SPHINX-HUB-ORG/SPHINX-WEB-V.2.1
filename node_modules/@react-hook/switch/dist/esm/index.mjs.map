{"version":3,"file":"index.mjs","sources":["../../src/index.tsx"],"sourcesContent":["import * as React from 'react'\nimport useLatest from '@react-hook/latest'\n\n/**\n * A hook for creating controlled toggles with on, off, and toggle callbacks.\n * This is extremely useful for creating controlled inputs for components like Checkbox.\n *\n * @param defaultValue Sets the default value of the switch\n * @param controlledValue Sets the controlled value of the switch, which will override\n *  the defaultValue\n * @param onChange A callback invoked whenever toggle callbacks that change state are invoked\n */\nfunction useSwitch(\n  defaultValue = false,\n  controlledValue?: boolean,\n  onChange: (value: boolean) => any = noop\n) {\n  const [current, setCurrent] = React.useState(controlledValue ?? defaultValue)\n  const storedOnChange = useLatest(onChange)\n\n  React.useEffect(() => {\n    if (typeof controlledValue === 'boolean') {\n      setCurrent(controlledValue)\n    }\n  }, [controlledValue])\n\n  const toggle = React.useCallback(() => {\n    setCurrent(!current)\n    storedOnChange.current(!current)\n  }, [storedOnChange, current])\n\n  return [\n    controlledValue ?? current,\n    Object.assign(toggle, {\n      on: React.useCallback(() => {\n        setCurrent(true)\n        if (!current) storedOnChange.current(true)\n      }, [storedOnChange, current]),\n      off: React.useCallback(() => {\n        setCurrent(false)\n        if (current) storedOnChange.current(false)\n      }, [storedOnChange, current]),\n    }),\n  ] as const\n}\n\nfunction noop() {}\n\nexport default useSwitch\n"],"names":["noop","defaultValue","controlledValue","onChange","current","setCurrent","React","storedOnChange","useLatest","toggle","Object","assign","on","off"],"mappings":"AA8CA,SAASA,uHAlCT,SACEC,EACAC,EACAC,YAFAF,IAAAA,EAAe,YAEfE,IAAAA,EAAoCH,OAE7BI,EAASC,GAAcC,EAAeJ,MAAAA,EAAAA,EAAmBD,GAC1DM,EAAiBC,EAAUL,GAEjCG,EAAgB,KACiB,kBAApBJ,GACTG,EAAWH,IAEZ,CAACA,QAEEO,EAASH,EAAkB,KAC/BD,GAAYD,GACZG,EAAeH,SAASA,IACvB,CAACG,EAAgBH,UAEb,CACLF,MAAAA,EAAAA,EAAmBE,EACnBM,OAAOC,OAAOF,EAAQ,CACpBG,GAAIN,EAAkB,KACpBD,EAAW,GACND,GAASG,EAAeH,QAAQ,IACpC,CAACG,EAAgBH,IACpBS,IAAKP,EAAkB,KACrBD,EAAW,GACPD,GAASG,EAAeH,QAAQ,IACnC,CAACG,EAAgBH"}