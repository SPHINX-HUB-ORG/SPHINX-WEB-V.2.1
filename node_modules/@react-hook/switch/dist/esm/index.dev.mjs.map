{"version":3,"file":"index.dev.mjs","sources":["../../src/index.tsx"],"sourcesContent":["import * as React from 'react'\nimport useLatest from '@react-hook/latest'\n\n/**\n * A hook for creating controlled toggles with on, off, and toggle callbacks.\n * This is extremely useful for creating controlled inputs for components like Checkbox.\n *\n * @param defaultValue Sets the default value of the switch\n * @param controlledValue Sets the controlled value of the switch, which will override\n *  the defaultValue\n * @param onChange A callback invoked whenever toggle callbacks that change state are invoked\n */\nfunction useSwitch(\n  defaultValue = false,\n  controlledValue?: boolean,\n  onChange: (value: boolean) => any = noop\n) {\n  const [current, setCurrent] = React.useState(controlledValue ?? defaultValue)\n  const storedOnChange = useLatest(onChange)\n\n  React.useEffect(() => {\n    if (typeof controlledValue === 'boolean') {\n      setCurrent(controlledValue)\n    }\n  }, [controlledValue])\n\n  const toggle = React.useCallback(() => {\n    setCurrent(!current)\n    storedOnChange.current(!current)\n  }, [storedOnChange, current])\n\n  return [\n    controlledValue ?? current,\n    Object.assign(toggle, {\n      on: React.useCallback(() => {\n        setCurrent(true)\n        if (!current) storedOnChange.current(true)\n      }, [storedOnChange, current]),\n      off: React.useCallback(() => {\n        setCurrent(false)\n        if (current) storedOnChange.current(false)\n      }, [storedOnChange, current]),\n    }),\n  ] as const\n}\n\nfunction noop() {}\n\nexport default useSwitch\n"],"names":["useSwitch","defaultValue","controlledValue","onChange","noop","current","setCurrent","React","storedOnChange","useLatest","toggle","Object","assign","on","off"],"mappings":";;;AAGA;;;;;;;;;;AASA,SAASA,SAAT,CACEC,YADF,EAEEC,eAFF,EAGEC,QAHF,EAIE;AAAA,MAHAF,YAGA;AAHAA,IAAAA,YAGA,GAHe,KAGf;AAAA;;AAAA,MADAE,QACA;AADAA,IAAAA,QACA,GADoCC,IACpC;AAAA;;AACA,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBC,QAAA,CAAeL,eAAf,aAAeA,eAAf,cAAeA,eAAf,GAAkCD,YAAlC,CAA9B;AACA,MAAMO,cAAc,GAAGC,SAAS,CAACN,QAAD,CAAhC;AAEAI,EAAAA,SAAA,CAAgB,MAAM;AACpB,QAAI,OAAOL,eAAP,KAA2B,SAA/B,EAA0C;AACxCI,MAAAA,UAAU,CAACJ,eAAD,CAAV;AACD;AACF,GAJD,EAIG,CAACA,eAAD,CAJH;AAMA,MAAMQ,MAAM,GAAGH,WAAA,CAAkB,MAAM;AACrCD,IAAAA,UAAU,CAAC,CAACD,OAAF,CAAV;AACAG,IAAAA,cAAc,CAACH,OAAf,CAAuB,CAACA,OAAxB;AACD,GAHc,EAGZ,CAACG,cAAD,EAAiBH,OAAjB,CAHY,CAAf;AAKA,SAAO,CACLH,eADK,aACLA,eADK,cACLA,eADK,GACcG,OADd,EAELM,MAAM,CAACC,MAAP,CAAcF,MAAd,EAAsB;AACpBG,IAAAA,EAAE,EAAEN,WAAA,CAAkB,MAAM;AAC1BD,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,UAAI,CAACD,OAAL,EAAcG,cAAc,CAACH,OAAf,CAAuB,IAAvB;AACf,KAHG,EAGD,CAACG,cAAD,EAAiBH,OAAjB,CAHC,CADgB;AAKpBS,IAAAA,GAAG,EAAEP,WAAA,CAAkB,MAAM;AAC3BD,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA,UAAID,OAAJ,EAAaG,cAAc,CAACH,OAAf,CAAuB,KAAvB;AACd,KAHI,EAGF,CAACG,cAAD,EAAiBH,OAAjB,CAHE;AALe,GAAtB,CAFK,CAAP;AAaD;;AAED,SAASD,IAAT,GAAgB;;;;"}