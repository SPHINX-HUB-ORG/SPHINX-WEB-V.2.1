{"version":3,"file":"use-debounce.js","sources":["../../node_modules/@react-hook/latest/src/index.tsx","../../src/index.tsx"],"sourcesContent":["import * as React from 'react'\n\nconst useLatest = <T extends any>(current: T) => {\n  const storedValue = React.useRef(current)\n  storedValue.current = current\n  return storedValue\n}\n\nexport default useLatest\n","import * as React from 'react'\nimport useLatest from '@react-hook/latest'\n\nexport const useDebounceCallback = <CallbackArgs extends any[]>(\n  callback: (...args: CallbackArgs) => void,\n  wait = 100,\n  leading = false\n): ((...args: CallbackArgs) => void) => {\n  const storedCallback = useLatest(callback)\n  const timeout = React.useRef<ReturnType<typeof setTimeout>>()\n  const deps = [wait, leading, storedCallback]\n  // Cleans up pending timeouts when the deps change\n  React.useEffect(\n    () => () => {\n      timeout.current && clearTimeout(timeout.current)\n      timeout.current = void 0\n    },\n    deps\n  )\n\n  return React.useCallback(function () {\n    // eslint-disable-next-line prefer-rest-params\n    const args = arguments\n    const {current} = timeout\n    // Calls on leading edge\n    if (current === void 0 && leading) {\n      timeout.current = setTimeout(() => {\n        timeout.current = void 0\n      }, wait)\n      // eslint-disable-next-line prefer-spread\n      return storedCallback.current.apply(null, args as any)\n    }\n    // Clear the timeout every call and start waiting again\n    current && clearTimeout(current)\n    // Waits for `wait` before invoking the callback\n    timeout.current = setTimeout(() => {\n      timeout.current = void 0\n      storedCallback.current.apply(null, args as any)\n    }, wait)\n  }, deps)\n}\n\nexport const useDebounce = <State extends any>(\n  initialState: State | (() => State),\n  wait?: number,\n  leading?: boolean\n): [State, React.Dispatch<React.SetStateAction<State>>] => {\n  const state = React.useState(initialState)\n  return [state[0], useDebounceCallback(state[1], wait, leading)]\n}\n"],"names":["useDebounceCallback","callback","wait","leading","timeout","current","clearTimeout","storedValue","storedCallback","React","deps","args","arguments","setTimeout","apply","initialState","state"],"mappings":"4OAEA,ICCaA,EAAsB,SACjCC,EACAC,EACAC,gBAQIC,EAAQC,SAAWC,aAAaF,EAAQC,SACxCD,EAAQC,aAAU,eAYhBD,EAAQC,aAAU,WAtBxBH,IAAAA,EAAO,cACPC,IAAAA,EAAU,ODJsBE,EAC1BE,ECKAC,GDN0BH,ECMCJ,GDL3BM,EAAcE,SAAaJ,IACrBA,QAAUA,EACfE,GCIDH,EAAUK,WACVC,EAAO,CAACR,EAAMC,EAASK,UAE7BC,aACE,sBAIAC,GAGKD,eAAkB,eAEjBE,EAAOC,UACNP,EAAWD,EAAXC,gBAES,IAAZA,GAAsBF,SACxBC,EAAQC,QAAUQ,aAEfX,GAEIM,EAAeH,QAAQS,MAAM,KAAMH,GAG5CN,GAAWC,aAAaD,GAExBD,EAAQC,QAAUQ,YAAW,WAC3BT,EAAQC,aAAU,EAClBG,EAAeH,QAAQS,MAAM,KAAMH,KAClCT,KACFQ,kBAGsB,SACzBK,EACAb,EACAC,OAEMa,EAAQP,WAAeM,SACtB,CAACC,EAAM,GAAIhB,EAAoBgB,EAAM,GAAId,EAAMC"}