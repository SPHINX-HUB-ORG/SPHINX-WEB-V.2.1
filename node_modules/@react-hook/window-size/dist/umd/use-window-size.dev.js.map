{"version":3,"file":"use-window-size.dev.js","sources":["../../node_modules/@react-hook/latest/dist/module/index.js","../../node_modules/@react-hook/debounce/dist/module/index.js","../../node_modules/@react-hook/event/dist/module/index.js","../../src/index.tsx"],"sourcesContent":["import * as React from 'react';\n\nconst useLatest = current => {\n  const storedValue = React.useRef(current);\n  React.useEffect(() => {\n    storedValue.current = current;\n  });\n  return storedValue;\n};\n\nexport default useLatest;","import * as React from 'react';\nimport useLatest from '@react-hook/latest';\nexport const useDebounceCallback = (callback, wait = 100, leading = false) => {\n  const storedCallback = useLatest(callback);\n  const timeout = React.useRef();\n  const deps = [wait, leading, storedCallback]; // Cleans up pending timeouts when the deps change\n\n  function _ref() {\n    timeout.current && clearTimeout(timeout.current);\n    timeout.current = void 0;\n  }\n\n  React.useEffect(() => _ref, deps);\n\n  function _ref2() {\n    timeout.current = void 0;\n  }\n\n  return React.useCallback(function () {\n    // eslint-disable-next-line prefer-rest-params\n    const args = arguments;\n    const {\n      current\n    } = timeout; // Calls on leading edge\n\n    if (current === void 0 && leading) {\n      timeout.current = setTimeout(_ref2, wait); // eslint-disable-next-line prefer-spread\n\n      return storedCallback.current.apply(null, args);\n    } // Clear the timeout every call and start waiting again\n\n\n    current && clearTimeout(current); // Waits for `wait` before invoking the callback\n\n    timeout.current = setTimeout(() => {\n      timeout.current = void 0;\n      storedCallback.current.apply(null, args);\n    }, wait);\n  }, deps);\n};\nexport const useDebounce = (initialState, wait, leading) => {\n  const state = React.useState(initialState);\n  return [state[0], useDebounceCallback(state[1], wait, leading)];\n};","import * as React from 'react';\n\nfunction useEvent(target, type, listener, cleanup) {\n  const storedListener = React.useRef(listener);\n  const storedCleanup = React.useRef(cleanup);\n  React.useEffect(() => {\n    storedListener.current = listener;\n    storedCleanup.current = cleanup;\n  });\n  React.useEffect(() => {\n    const targetEl = target && 'current' in target ? target.current : target;\n    if (!targetEl) return;\n    let didUnsubscribe = 0;\n\n    function listener(...args) {\n      if (didUnsubscribe) return;\n      storedListener.current.apply(this, args);\n    }\n\n    targetEl.addEventListener(type, listener);\n    const cleanup = storedCleanup.current;\n    return () => {\n      didUnsubscribe = 1;\n      targetEl.removeEventListener(type, listener);\n      cleanup && cleanup();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [target, type]);\n}\n\nexport default useEvent;","import {useDebounce} from '@react-hook/debounce'\nimport useEvent from '@react-hook/event'\n\nconst emptyObj = {}\n\nexport interface DebouncedWindowSizeOptions {\n  initialWidth?: number\n  initialHeight?: number\n  wait?: number\n  leading?: boolean\n}\n\nconst win = typeof window === 'undefined' ? null : window\nconst wv =\n  win && typeof win.visualViewport !== 'undefined' ? win.visualViewport : null\nconst getSize = () =>\n  [\n    document.documentElement.clientWidth,\n    document.documentElement.clientHeight,\n  ] as const\n\nexport const useWindowSize = (\n  options: DebouncedWindowSizeOptions = emptyObj\n): readonly [number, number] => {\n  const {wait, leading, initialWidth = 0, initialHeight = 0} = options\n  const [size, setDebouncedSize] = useDebounce<readonly [number, number]>(\n    /* istanbul ignore next */\n    typeof document === 'undefined' ? [initialWidth, initialHeight] : getSize,\n    wait,\n    leading\n  )\n  const setSize = (): void => setDebouncedSize(getSize)\n\n  useEvent(win, 'resize', setSize)\n  // @ts-expect-error\n  useEvent(wv, 'resize', setSize)\n  useEvent(win, 'orientationchange', setSize)\n\n  return size\n}\n\nexport const useWindowHeight = (\n  options?: Omit<DebouncedWindowSizeOptions, 'initialWidth'>\n): number => useWindowSize(options)[1]\n\nexport const useWindowWidth = (\n  options?: Omit<DebouncedWindowSizeOptions, 'initialHeight'>\n): number => useWindowSize(options)[0]\n"],"names":["useLatest","current","storedValue","React","useRef","useEffect","useDebounceCallback","callback","wait","leading","storedCallback","timeout","deps","_ref","clearTimeout","_ref2","useCallback","args","arguments","setTimeout","apply","useDebounce","initialState","state","useState","useEvent","target","type","listener","cleanup","storedListener","storedCleanup","targetEl","didUnsubscribe","addEventListener","removeEventListener","emptyObj","win","window","wv","visualViewport","getSize","document","documentElement","clientWidth","clientHeight","useWindowSize","options","initialWidth","initialHeight","size","setDebouncedSize","setSize","useWindowHeight","useWindowWidth"],"mappings":"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"}