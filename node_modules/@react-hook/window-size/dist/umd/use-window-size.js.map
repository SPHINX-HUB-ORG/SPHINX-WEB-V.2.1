{"version":3,"file":"use-window-size.js","sources":["../../node_modules/@react-hook/event/dist/module/index.js","../../node_modules/@react-hook/debounce/dist/module/index.js","../../node_modules/@react-hook/latest/dist/module/index.js","../../src/index.tsx"],"sourcesContent":["import * as React from 'react';\n\nfunction useEvent(target, type, listener, cleanup) {\n  const storedListener = React.useRef(listener);\n  const storedCleanup = React.useRef(cleanup);\n  React.useEffect(() => {\n    storedListener.current = listener;\n    storedCleanup.current = cleanup;\n  });\n  React.useEffect(() => {\n    const targetEl = target && 'current' in target ? target.current : target;\n    if (!targetEl) return;\n    let didUnsubscribe = 0;\n\n    function listener(...args) {\n      if (didUnsubscribe) return;\n      storedListener.current.apply(this, args);\n    }\n\n    targetEl.addEventListener(type, listener);\n    const cleanup = storedCleanup.current;\n    return () => {\n      didUnsubscribe = 1;\n      targetEl.removeEventListener(type, listener);\n      cleanup && cleanup();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [target, type]);\n}\n\nexport default useEvent;","import * as React from 'react';\nimport useLatest from '@react-hook/latest';\nexport const useDebounceCallback = (callback, wait = 100, leading = false) => {\n  const storedCallback = useLatest(callback);\n  const timeout = React.useRef();\n  const deps = [wait, leading, storedCallback]; // Cleans up pending timeouts when the deps change\n\n  function _ref() {\n    timeout.current && clearTimeout(timeout.current);\n    timeout.current = void 0;\n  }\n\n  React.useEffect(() => _ref, deps);\n\n  function _ref2() {\n    timeout.current = void 0;\n  }\n\n  return React.useCallback(function () {\n    // eslint-disable-next-line prefer-rest-params\n    const args = arguments;\n    const {\n      current\n    } = timeout; // Calls on leading edge\n\n    if (current === void 0 && leading) {\n      timeout.current = setTimeout(_ref2, wait); // eslint-disable-next-line prefer-spread\n\n      return storedCallback.current.apply(null, args);\n    } // Clear the timeout every call and start waiting again\n\n\n    current && clearTimeout(current); // Waits for `wait` before invoking the callback\n\n    timeout.current = setTimeout(() => {\n      timeout.current = void 0;\n      storedCallback.current.apply(null, args);\n    }, wait);\n  }, deps);\n};\nexport const useDebounce = (initialState, wait, leading) => {\n  const state = React.useState(initialState);\n  return [state[0], useDebounceCallback(state[1], wait, leading)];\n};","import * as React from 'react';\n\nconst useLatest = current => {\n  const storedValue = React.useRef(current);\n  React.useEffect(() => {\n    storedValue.current = current;\n  });\n  return storedValue;\n};\n\nexport default useLatest;","import {useDebounce} from '@react-hook/debounce'\nimport useEvent from '@react-hook/event'\n\nconst emptyObj = {}\n\nexport interface DebouncedWindowSizeOptions {\n  initialWidth?: number\n  initialHeight?: number\n  wait?: number\n  leading?: boolean\n}\n\nconst win = typeof window === 'undefined' ? null : window\nconst wv =\n  win && typeof win.visualViewport !== 'undefined' ? win.visualViewport : null\nconst getSize = () =>\n  [\n    document.documentElement.clientWidth,\n    document.documentElement.clientHeight,\n  ] as const\n\nexport const useWindowSize = (\n  options: DebouncedWindowSizeOptions = emptyObj\n): readonly [number, number] => {\n  const {wait, leading, initialWidth = 0, initialHeight = 0} = options\n  const [size, setDebouncedSize] = useDebounce<readonly [number, number]>(\n    /* istanbul ignore next */\n    typeof document === 'undefined' ? [initialWidth, initialHeight] : getSize,\n    wait,\n    leading\n  )\n  const setSize = (): void => setDebouncedSize(getSize)\n\n  useEvent(win, 'resize', setSize)\n  // @ts-expect-error\n  useEvent(wv, 'resize', setSize)\n  useEvent(win, 'orientationchange', setSize)\n\n  return size\n}\n\nexport const useWindowHeight = (\n  options?: Omit<DebouncedWindowSizeOptions, 'initialWidth'>\n): number => useWindowSize(options)[1]\n\nexport const useWindowWidth = (\n  options?: Omit<DebouncedWindowSizeOptions, 'initialHeight'>\n): number => useWindowSize(options)[0]\n"],"names":["useEvent","target","type","listener","cleanup","storedListener","React","useRef","storedCleanup","useEffect","current","didUnsubscribe","_len","arguments","length","args","Array","_key","apply","this","targetEl","addEventListener","removeEventListener","useDebounceCallback","callback","wait","leading","_ref","timeout","clearTimeout","_ref2","storedValue","storedCallback","deps","useCallback","setTimeout","emptyObj","win","window","wv","visualViewport","getSize","document","documentElement","clientWidth","clientHeight","useWindowSize","options","_options","_options$initialWidth","initialWidth","_options$initialHeigh","initialHeight","_useDebounce","initialState","state","useState","useDebounce","size","setDebouncedSize","setSize"],"mappings":"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"}