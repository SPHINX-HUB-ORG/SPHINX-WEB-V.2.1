{"version":3,"file":"use-window-size.dev.js","sources":["../../../node_modules/@react-hook/latest/dist/module/index.js","../../../node_modules/@react-hook/throttle/dist/module/index.js","../../../node_modules/@react-hook/event/dist/module/index.js","../../src/index.tsx"],"sourcesContent":["import * as React from 'react';\n\nconst useLatest = current => {\n  const storedValue = React.useRef(current);\n  React.useEffect(() => {\n    storedValue.current = current;\n  });\n  return storedValue;\n};\n\nexport default useLatest;","import * as React from 'react';\nimport useLatest from '@react-hook/latest';\nconst perf = typeof performance !== 'undefined' ? performance : Date;\n\nconst now = () => perf.now();\n\nexport function useThrottleCallback(callback, fps = 30, leading = false) {\n  const storedCallback = useLatest(callback);\n  const ms = 1000 / fps;\n  const prev = React.useRef(0);\n  const trailingTimeout = React.useRef();\n\n  const clearTrailing = () => trailingTimeout.current && clearTimeout(trailingTimeout.current);\n\n  const deps = [fps, leading, storedCallback]; // Reset any time the deps change\n\n  function _ref() {\n    prev.current = 0;\n    clearTrailing();\n  }\n\n  React.useEffect(() => _ref, deps);\n  return React.useCallback(function () {\n    // eslint-disable-next-line prefer-rest-params\n    const args = arguments;\n    const rightNow = now();\n\n    const call = () => {\n      prev.current = rightNow;\n      clearTrailing();\n      storedCallback.current.apply(null, args);\n    };\n\n    const current = prev.current; // leading\n\n    if (leading && current === 0) return call(); // body\n\n    if (rightNow - current > ms) {\n      if (current > 0) return call();\n      prev.current = rightNow;\n    } // trailing\n\n\n    clearTrailing();\n    trailingTimeout.current = setTimeout(() => {\n      call();\n      prev.current = 0;\n    }, ms);\n  }, deps);\n}\nexport function useThrottle(initialState, fps, leading) {\n  const state = React.useState(initialState);\n  return [state[0], useThrottleCallback(state[1], fps, leading)];\n}","import * as React from 'react';\n\nfunction useEvent(target, type, listener, cleanup) {\n  const storedListener = React.useRef(listener);\n  const storedCleanup = React.useRef(cleanup);\n  React.useEffect(() => {\n    storedListener.current = listener;\n    storedCleanup.current = cleanup;\n  });\n  React.useEffect(() => {\n    const targetEl = target && 'current' in target ? target.current : target;\n    if (!targetEl) return;\n    let didUnsubscribe = 0;\n\n    function listener(...args) {\n      if (didUnsubscribe) return;\n      storedListener.current.apply(this, args);\n    }\n\n    targetEl.addEventListener(type, listener);\n    const cleanup = storedCleanup.current;\n    return () => {\n      didUnsubscribe = 1;\n      targetEl.removeEventListener(type, listener);\n      cleanup && cleanup();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [target, type]);\n}\n\nexport default useEvent;","/* eslint-disable import/no-extraneous-dependencies */\nimport {useThrottle} from '@react-hook/throttle'\nimport useEvent from '@react-hook/event'\n\nconst emptyObj = {}\n\nexport interface ThrottledWindowSizeOptions {\n  initialWidth?: number\n  initialHeight?: number\n  fps?: number\n  leading?: boolean\n}\n\nconst win = typeof window === 'undefined' ? null : window\nconst wv =\n  win && typeof win.visualViewport !== 'undefined' ? win.visualViewport : null\nconst getSize = () =>\n  [\n    document.documentElement.clientWidth,\n    document.documentElement.clientHeight,\n  ] as const\n\nexport const useWindowSize = (\n  options: ThrottledWindowSizeOptions = emptyObj\n): readonly [number, number] => {\n  const {fps, leading, initialWidth = 0, initialHeight = 0} = options\n  const [size, setThrottledSize] = useThrottle<readonly [number, number]>(\n    /* istanbul ignore next */\n    typeof document === 'undefined' ? [initialWidth, initialHeight] : getSize,\n    fps,\n    leading\n  )\n  const setSize = (): void => setThrottledSize(getSize)\n\n  useEvent(win, 'resize', setSize)\n  // @ts-expect-error\n  useEvent(wv, 'resize', setSize)\n  useEvent(win, 'orientationchange', setSize)\n\n  return size\n}\n\nexport const useWindowHeight = (\n  options?: Omit<ThrottledWindowSizeOptions, 'initialWidth'>\n): number => useWindowSize(options)[1]\n\nexport const useWindowWidth = (\n  options?: Omit<ThrottledWindowSizeOptions, 'initialHeight'>\n): number => useWindowSize(options)[0]\n"],"names":["useLatest","current","storedValue","React","useRef","useEffect","perf","performance","Date","now","useThrottleCallback","callback","fps","leading","storedCallback","ms","prev","trailingTimeout","clearTrailing","clearTimeout","deps","_ref","useCallback","args","arguments","rightNow","call","apply","setTimeout","useThrottle","initialState","state","useState","useEvent","target","type","listener","cleanup","storedListener","storedCleanup","targetEl","didUnsubscribe","addEventListener","removeEventListener","emptyObj","win","window","wv","visualViewport","getSize","document","documentElement","clientWidth","clientHeight","useWindowSize","options","initialWidth","initialHeight","size","setThrottledSize","setSize","useWindowHeight","useWindowWidth"],"mappings":"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"}