import{computePosition as e,arrow as t}from"@floating-ui/dom";export{autoPlacement,detectOverflow,flip,getScrollParents,hide,limitShift,offset,shift,size}from"@floating-ui/dom";import{useLayoutEffect as r,useEffect as n,useRef as l,useState as o,useCallback as a,useMemo as u}from"react";var c="undefined"!=typeof document?r:n;function i(t){let{middleware:r,placement:n,strategy:i}=void 0===t?{}:t;const f=l(null),d=l(null),[m,p]=o({x:null,y:null,strategy:null!=i?i:"absolute",placement:"bottom",middlewareData:{}}),s=function(e){const t=l(e);return c((()=>{t.current=e})),t}(r),g=a((()=>{f.current&&d.current&&e(f.current,d.current,{middleware:s.current,placement:n,strategy:i}).then(p)}),[s,n,i]);c(g,[g]);const w=a((e=>{f.current=e,g()}),[g]),y=a((e=>{d.current=e,g()}),[g]);return u((()=>({...m,update:g,reference:w,floating:y,refs:{reference:f,floating:d}})),[m,g,w,y])}const f=e=>{let{element:r,padding:n}=e;return{name:"arrow",fn(e){return l=r,Object.prototype.hasOwnProperty.call(l,"current")?null!=r.current?t({element:r.current,padding:n}).fn(e):{}:r?t({element:r,padding:n}).fn(e):{};var l}}};export{f as arrow,i as useFloating};
