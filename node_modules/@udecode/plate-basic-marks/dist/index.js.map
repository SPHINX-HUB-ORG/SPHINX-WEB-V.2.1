{"version":3,"file":"index.js","sources":["../src/createBoldPlugin.ts","../src/createCodePlugin.ts","../src/createItalicPlugin.ts","../src/createStrikethroughPlugin.ts","../src/createSubscriptPlugin.ts","../src/createSuperscriptPlugin.ts","../src/createUnderlinePlugin.ts","../src/createBasicMarksPlugin.ts"],"sourcesContent":["import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n  ToggleMarkPlugin,\n} from '@udecode/plate-common';\n\nexport const MARK_BOLD = 'bold';\n\n/**\n * Enables support for bold formatting\n */\nexport const createBoldPlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_BOLD,\n  isLeaf: true,\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['STRONG', 'B'] },\n      {\n        validStyle: {\n          fontWeight: ['600', '700', 'bold'],\n        },\n      },\n    ],\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.fontWeight === 'normal'),\n  },\n\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+b',\n  },\n});\n","import {\n  createPluginFactory,\n  findHtmlParentElement,\n  onKeyDownToggleMark,\n  ToggleMarkPlugin,\n} from '@udecode/plate-common';\n\nexport const MARK_CODE = 'code';\n\n/**\n * Enables support for code formatting\n */\nexport const createCodePlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_CODE,\n  isLeaf: true,\n  deserializeHtml: {\n    rules: [\n      {\n        validNodeName: ['CODE'],\n      },\n      {\n        validStyle: {\n          wordWrap: 'break-word',\n        },\n      },\n      {\n        validStyle: {\n          fontFamily: 'Consolas',\n        },\n      },\n    ],\n    query(el) {\n      const blockAbove = findHtmlParentElement(el, 'P');\n      if (blockAbove?.style.fontFamily === 'Consolas') return false;\n\n      return !findHtmlParentElement(el, 'PRE');\n    },\n  },\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+e',\n  },\n});\n","import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n  ToggleMarkPlugin,\n} from '@udecode/plate-common';\n\nexport const MARK_ITALIC = 'italic';\n\n/**\n * Enables support for italic formatting.\n */\nexport const createItalicPlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_ITALIC,\n  isLeaf: true,\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+i',\n  },\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['EM', 'I'] },\n      {\n        validStyle: {\n          fontStyle: 'italic',\n        },\n      },\n    ],\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.fontStyle === 'normal'),\n  },\n});\n","import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n  ToggleMarkPlugin,\n} from '@udecode/plate-common';\n\nexport const MARK_STRIKETHROUGH = 'strikethrough';\n\n/**\n * Enables support for strikethrough formatting.\n */\nexport const createStrikethroughPlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_STRIKETHROUGH,\n  isLeaf: true,\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+shift+x',\n  },\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['S', 'DEL', 'STRIKE'] },\n      {\n        validStyle: {\n          textDecoration: 'line-through',\n        },\n      },\n    ],\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.textDecoration === 'none'),\n  },\n});\n","import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  ToggleMarkPlugin,\n} from '@udecode/plate-common';\n\nexport const MARK_SUBSCRIPT = 'subscript';\nconst MARK_SUPERSCRIPT = 'superscript';\n\n/**\n * Enables support for subscript formatting.\n */\nexport const createSubscriptPlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_SUBSCRIPT,\n  isLeaf: true,\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+,',\n    clear: MARK_SUPERSCRIPT,\n  },\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['SUB'] },\n      {\n        validStyle: {\n          verticalAlign: 'sub',\n        },\n      },\n    ],\n  },\n});\n","import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  ToggleMarkPlugin,\n} from '@udecode/plate-common';\n\nexport const MARK_SUPERSCRIPT = 'superscript';\nconst MARK_SUBSCRIPT = 'subscript';\n\n/**\n * Enables support for superscript formatting.\n */\nexport const createSuperscriptPlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_SUPERSCRIPT,\n  isLeaf: true,\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+.',\n    clear: MARK_SUBSCRIPT,\n  },\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['SUP'] },\n      {\n        validStyle: {\n          verticalAlign: 'super',\n        },\n      },\n    ],\n  },\n});\n","import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n  ToggleMarkPlugin,\n} from '@udecode/plate-common';\n\nexport const MARK_UNDERLINE = 'underline';\n\n/**\n * Enables support for underline formatting.\n */\nexport const createUnderlinePlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_UNDERLINE,\n  isLeaf: true,\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+u',\n  },\n  deserializeHtml: {\n    rules: [\n      {\n        validNodeName: ['U'],\n      },\n      {\n        validStyle: {\n          textDecoration: ['underline'],\n        },\n      },\n    ],\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.textDecoration === 'none'),\n  },\n});\n","import { createPluginFactory } from '@udecode/plate-common';\nimport { createBoldPlugin } from './createBoldPlugin';\nimport { createCodePlugin } from './createCodePlugin';\nimport { createItalicPlugin } from './createItalicPlugin';\nimport { createStrikethroughPlugin } from './createStrikethroughPlugin';\nimport { createSubscriptPlugin } from './createSubscriptPlugin';\nimport { createSuperscriptPlugin } from './createSuperscriptPlugin';\nimport { createUnderlinePlugin } from './createUnderlinePlugin';\n\n/**\n * Enables support for basic marks:\n * - Bold\n * - Code\n * - Italic\n * - Strikethrough\n * - Subscript\n * - Superscript\n * - Underline\n */\nexport const createBasicMarksPlugin = createPluginFactory({\n  key: 'basicMarks',\n  plugins: [\n    createBoldPlugin(),\n    createCodePlugin(),\n    createItalicPlugin(),\n    createStrikethroughPlugin(),\n    createSubscriptPlugin(),\n    createSuperscriptPlugin(),\n    createUnderlinePlugin(),\n  ],\n});\n"],"names":["MARK_BOLD","createBoldPlugin","createPluginFactory","key","isLeaf","deserializeHtml","rules","validNodeName","validStyle","fontWeight","query","el","someHtmlElement","node","style","handlers","onKeyDown","onKeyDownToggleMark","options","hotkey","MARK_CODE","createCodePlugin","wordWrap","fontFamily","blockAbove","findHtmlParentElement","MARK_ITALIC","createItalicPlugin","fontStyle","MARK_STRIKETHROUGH","createStrikethroughPlugin","textDecoration","MARK_SUBSCRIPT","MARK_SUPERSCRIPT","createSubscriptPlugin","clear","verticalAlign","createSuperscriptPlugin","MARK_UNDERLINE","createUnderlinePlugin","createBasicMarksPlugin","plugins"],"mappings":"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"}