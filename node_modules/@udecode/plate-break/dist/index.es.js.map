{"version":3,"file":"index.es.js","sources":["../../../../node_modules/is-hotkey/lib/index.js","../src/exit-break/queries/exitBreakAtEdges.ts","../src/exit-break/transforms/exitBreak.ts","../src/exit-break/onKeyDownExitBreak.ts","../src/exit-break/createExitBreakPlugin.ts","../src/single-line/onKeyDownSingleLine.ts","../src/single-line/withSingleLine.ts","../src/single-line/createSingleLinePlugin.ts","../src/soft-break/onKeyDownSoftBreak.ts","../src/soft-break/createSoftBreakPlugin.ts"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * Constants.\n */\n\n// We make this a function so it can be tested in describe block mocks with Jest.\nvar IS_MAC = () => typeof window != 'undefined' && /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);\n\nvar MODIFIERS = {\n  alt: 'altKey',\n  control: 'ctrlKey',\n  meta: 'metaKey',\n  shift: 'shiftKey'\n};\n\n// We make this a function so it can be tested in describe block mocks with Jest.\nvar ALIASES = () => ({\n  add: '+',\n  break: 'pause',\n  cmd: 'meta',\n  command: 'meta',\n  ctl: 'control',\n  ctrl: 'control',\n  del: 'delete',\n  down: 'arrowdown',\n  esc: 'escape',\n  ins: 'insert',\n  left: 'arrowleft',\n  mod: IS_MAC() ? 'meta' : 'control',\n  opt: 'alt',\n  option: 'alt',\n  return: 'enter',\n  right: 'arrowright',\n  space: ' ',\n  spacebar: ' ',\n  up: 'arrowup',\n  win: 'meta',\n  windows: 'meta'\n});\n\nvar CODES = {\n  backspace: 8,\n  tab: 9,\n  enter: 13,\n  shift: 16,\n  control: 17,\n  alt: 18,\n  pause: 19,\n  capslock: 20,\n  escape: 27,\n  ' ': 32,\n  pageup: 33,\n  pagedown: 34,\n  end: 35,\n  home: 36,\n  arrowleft: 37,\n  arrowup: 38,\n  arrowright: 39,\n  arrowdown: 40,\n  insert: 45,\n  delete: 46,\n  meta: 91,\n  numlock: 144,\n  scrolllock: 145,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  '\\'': 222\n};\n\nfor (var f = 1; f < 20; f++) {\n  CODES['f' + f] = 111 + f;\n}\n\n/**\n * Is hotkey?\n */\n\nfunction isHotkey(hotkey, options, event) {\n  if (options && !('byKey' in options)) {\n    event = options;\n    options = null;\n  }\n\n  if (!Array.isArray(hotkey)) {\n    hotkey = [hotkey];\n  }\n\n  var array = hotkey.map(function (string) {\n    return parseHotkey(string, options);\n  });\n  var check = function check(e) {\n    return array.some(function (object) {\n      return compareHotkey(object, e);\n    });\n  };\n  var ret = event == null ? check : check(event);\n  return ret;\n}\n\nfunction isCodeHotkey(hotkey, event) {\n  return isHotkey(hotkey, event);\n}\n\nfunction isKeyHotkey(hotkey, event) {\n  return isHotkey(hotkey, { byKey: true }, event);\n}\n\n/**\n * Parse.\n */\n\nfunction parseHotkey(hotkey, options) {\n  var byKey = options && options.byKey;\n  var ret = {};\n\n  // Special case to handle the `+` key since we use it as a separator.\n  hotkey = hotkey.replace('++', '+add');\n  var values = hotkey.split('+');\n  var length = values.length;\n\n  // Ensure that all the modifiers are set to false unless the hotkey has them.\n\n  for (var k in MODIFIERS) {\n    ret[MODIFIERS[k]] = false;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var value = _step.value;\n\n      var optional = value.endsWith('?') && value.length > 1;\n\n      if (optional) {\n        value = value.slice(0, -1);\n      }\n\n      var name = toKeyName(value);\n      var modifier = MODIFIERS[name];\n\n      if (length === 1 || !modifier) {\n        if (byKey) {\n          ret.key = name;\n        } else {\n          ret.which = toKeyCode(value);\n        }\n      }\n\n      if (modifier) {\n        ret[modifier] = optional ? null : true;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Compare.\n */\n\nfunction compareHotkey(object, event) {\n  for (var key in object) {\n    var expected = object[key];\n    var actual = void 0;\n\n    if (expected == null) {\n      continue;\n    }\n\n    if (key === 'key' && event.key != null) {\n      actual = event.key.toLowerCase();\n    } else if (key === 'which') {\n      actual = expected === 91 && event.which === 93 ? 91 : event.which;\n    } else {\n      actual = event[key];\n    }\n\n    if (actual == null && expected === false) {\n      continue;\n    }\n\n    if (actual !== expected) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Utils.\n */\n\nfunction toKeyCode(name) {\n  name = toKeyName(name);\n  var code = CODES[name] || name.toUpperCase().charCodeAt(0);\n  return code;\n}\n\nfunction toKeyName(name) {\n  name = name.toLowerCase();\n  name = ALIASES()[name] || name;\n  return name;\n}\n\n/**\n * Export.\n */\n\nexports.default = isHotkey;\nexports.isHotkey = isHotkey;\nexports.isCodeHotkey = isCodeHotkey;\nexports.isKeyHotkey = isKeyHotkey;\nexports.parseHotkey = parseHotkey;\nexports.compareHotkey = compareHotkey;\nexports.toKeyCode = toKeyCode;\nexports.toKeyName = toKeyName;","import {\n  isExpanded,\n  isSelectionAtBlockEnd,\n  isSelectionAtBlockStart,\n  TEditor,\n  Value,\n} from '@udecode/plate-common';\n\n/**\n * Check if the selection is at the edge of its parent block.\n * If it is and if the selection is expanded, delete its content.\n */\nexport const exitBreakAtEdges = <V extends Value>(\n  editor: TEditor<V>,\n  {\n    start,\n    end,\n  }: {\n    start?: boolean;\n    end?: boolean;\n  }\n) => {\n  let queryEdge = false;\n  let isEdge = false;\n  let isStart = false;\n  if (start || end) {\n    queryEdge = true;\n\n    if (start && isSelectionAtBlockStart(editor)) {\n      isEdge = true;\n      isStart = true;\n    }\n\n    if (end && isSelectionAtBlockEnd(editor)) {\n      isEdge = true;\n    }\n\n    if (isEdge && isExpanded(editor.selection)) {\n      editor.deleteFragment();\n    }\n  }\n\n  return {\n    queryEdge,\n    isEdge,\n    isStart,\n  };\n};\n","import {\n  ELEMENT_DEFAULT,\n  getPath,\n  getPluginType,\n  insertElements,\n  PlateEditor,\n  Value,\n} from '@udecode/plate-common';\nimport { Path } from 'slate';\nimport { exitBreakAtEdges } from '../queries/exitBreakAtEdges';\nimport { ExitBreakRule } from '../types';\n\nexport const exitBreak = <V extends Value>(\n  editor: PlateEditor<V>,\n  {\n    level = 0,\n    relative = false,\n    defaultType = getPluginType(editor, ELEMENT_DEFAULT),\n    query = {},\n    before,\n  }: Omit<ExitBreakRule, 'hotkey'>\n) => {\n  if (!editor.selection) return;\n\n  const { queryEdge, isEdge, isStart } = exitBreakAtEdges(editor, query);\n  if (isStart) before = true;\n\n  if (queryEdge && !isEdge) return;\n\n  const selectionPath = getPath(editor, editor.selection);\n\n  const slicedPath = relative\n    ? selectionPath.slice(0, -level)\n    : selectionPath.slice(0, level + 1);\n\n  let insertPath;\n  if (before) {\n    insertPath = slicedPath;\n  } else {\n    insertPath = Path.next(slicedPath);\n  }\n\n  insertElements(\n    editor,\n    { type: defaultType, children: [{ text: '' }] },\n    {\n      at: insertPath,\n      select: !isStart,\n    }\n  );\n\n  return true;\n};\n","import {\n  getBlockAbove,\n  KeyboardHandlerReturnType,\n  PlateEditor,\n  queryNode,\n  Value,\n  WithPlatePlugin,\n} from '@udecode/plate-common';\nimport isHotkey from 'is-hotkey';\nimport { exitBreak } from './transforms/exitBreak';\nimport { ExitBreakPlugin } from './types';\n\nexport const onKeyDownExitBreak = <\n  V extends Value = Value,\n  E extends PlateEditor<V> = PlateEditor<V>\n>(\n  editor: E,\n  { options: { rules = [] } }: WithPlatePlugin<ExitBreakPlugin, V, E>\n): KeyboardHandlerReturnType => (event) => {\n  if (event.defaultPrevented) return;\n\n  const entry = getBlockAbove(editor);\n  if (!entry) return;\n\n  rules.forEach(({ hotkey, ...rule }) => {\n    if (isHotkey(hotkey, event as any) && queryNode(entry, rule.query)) {\n      if (exitBreak(editor as any, rule)) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    }\n  });\n};\n","import { createPluginFactory } from '@udecode/plate-common';\nimport { onKeyDownExitBreak } from './onKeyDownExitBreak';\nimport { ExitBreakPlugin } from './types';\n\nexport const KEY_EXIT_BREAK = 'exitBreak';\n\n/**\n * Insert soft break following configurable rules.\n * Each rule specifies a hotkey and query options.\n */\nexport const createExitBreakPlugin = createPluginFactory<ExitBreakPlugin>({\n  key: KEY_EXIT_BREAK,\n  handlers: {\n    onKeyDown: onKeyDownExitBreak,\n  },\n  options: {\n    rules: [\n      { hotkey: 'mod+enter' },\n      { hotkey: 'mod+shift+enter', before: true },\n    ],\n  },\n});\n","import { Hotkeys, KeyboardHandlerReturnType } from '@udecode/plate-common';\n\nexport const onKeyDownSingleLine = (): KeyboardHandlerReturnType => (event) => {\n  if (event.defaultPrevented) return;\n\n  if (Hotkeys.isSplitBlock(event)) {\n    event.preventDefault();\n  }\n};\n","import { PlateEditor, removeNodes, Value } from '@udecode/plate-common';\n\nexport const withSingleLine = <\n  V extends Value = Value,\n  E extends PlateEditor<V> = PlateEditor<V>\n>(\n  editor: E\n) => {\n  const { normalizeNode } = editor;\n\n  editor.insertBreak = () => null;\n\n  editor.normalizeNode = (entry) => {\n    if (editor.children.length > 1) {\n      removeNodes(editor, {\n        at: [],\n        mode: 'highest',\n        match: (node, path) => path[0] > 0,\n      });\n    }\n    normalizeNode(entry);\n  };\n\n  return editor;\n};\n","import { createPluginFactory } from '@udecode/plate-common';\nimport { onKeyDownSingleLine } from './onKeyDownSingleLine';\nimport { withSingleLine } from './withSingleLine';\n\nexport const KEY_SINGLE_LINE = 'singleLine';\n\n/**\n * Forces editor to only have one line.\n */\nexport const createSingleLinePlugin = createPluginFactory({\n  key: KEY_SINGLE_LINE,\n  handlers: {\n    onKeyDown: onKeyDownSingleLine,\n  },\n  withOverrides: withSingleLine,\n});\n","import {\n  getBlockAbove,\n  KeyboardHandlerReturnType,\n  PlateEditor,\n  queryNode,\n  Value,\n  WithPlatePlugin,\n} from '@udecode/plate-common';\nimport isHotkey from 'is-hotkey';\nimport { SoftBreakPlugin } from './types';\n\nexport const onKeyDownSoftBreak = <\n  V extends Value = Value,\n  E extends PlateEditor<V> = PlateEditor<V>\n>(\n  editor: E,\n  { options: { rules = [] } }: WithPlatePlugin<SoftBreakPlugin, V, E>\n): KeyboardHandlerReturnType => (event) => {\n  if (event.defaultPrevented) return;\n\n  const entry = getBlockAbove(editor);\n  if (!entry) return;\n\n  rules.forEach(({ hotkey, query }) => {\n    if (isHotkey(hotkey, event as any) && queryNode(entry, query)) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      editor.insertText('\\n');\n    }\n  });\n};\n","import { createPluginFactory } from '@udecode/plate-common';\nimport { onKeyDownSoftBreak } from './onKeyDownSoftBreak';\nimport { SoftBreakPlugin } from './types';\n\nexport const KEY_SOFT_BREAK = 'softBreak';\n\n/**\n * Insert soft break following configurable rules.\n * Each rule specifies a hotkey and query options.\n */\nexport const createSoftBreakPlugin = createPluginFactory<SoftBreakPlugin>({\n  key: KEY_SOFT_BREAK,\n  handlers: {\n    onKeyDown: onKeyDownSoftBreak,\n  },\n  options: {\n    rules: [{ hotkey: 'shift+enter' }],\n  },\n});\n"],"names":["exitBreakAtEdges","editor","start","end","queryEdge","isEdge","isStart","isSelectionAtBlockStart","isSelectionAtBlockEnd","isExpanded","selection","deleteFragment","exitBreak","level","relative","defaultType","getPluginType","ELEMENT_DEFAULT","query","before","selectionPath","getPath","slicedPath","slice","insertPath","Path","next","insertElements","type","children","text","at","select","onKeyDownExitBreak","options","rules","event","defaultPrevented","entry","getBlockAbove","forEach","hotkey","rule","isHotkey","queryNode","preventDefault","stopPropagation","KEY_EXIT_BREAK","createExitBreakPlugin","createPluginFactory","key","handlers","onKeyDown","onKeyDownSingleLine","Hotkeys","isSplitBlock","withSingleLine","normalizeNode","insertBreak","length","removeNodes","mode","match","node","path","KEY_SINGLE_LINE","createSingleLinePlugin","withOverrides","onKeyDownSoftBreak","insertText","KEY_SOFT_BREAK","createSoftBreakPlugin"],"mappings":"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"}