{"version":3,"file":"index.es.js","sources":["../src/constants.ts","../src/createHeadingPlugin.ts"],"sourcesContent":["export const ELEMENT_H1 = 'h1';\nexport const ELEMENT_H2 = 'h2';\nexport const ELEMENT_H3 = 'h3';\nexport const ELEMENT_H4 = 'h4';\nexport const ELEMENT_H5 = 'h5';\nexport const ELEMENT_H6 = 'h6';\n\nexport const KEYS_HEADING = [\n  ELEMENT_H1,\n  ELEMENT_H2,\n  ELEMENT_H3,\n  ELEMENT_H4,\n  ELEMENT_H5,\n  ELEMENT_H6,\n];\n","import {\n  createPluginFactory,\n  onKeyDownToggleElement,\n  PlatePlugin,\n} from '@udecode/plate-common';\nimport { KEYS_HEADING } from './constants';\nimport { HeadingPlugin, HeadingsPlugin } from './types';\n\n/**\n * Enables support for headings with configurable levels\n * (from 1 to 6).\n */\nexport const createHeadingPlugin = createPluginFactory<HeadingsPlugin>({\n  key: 'heading',\n  options: {\n    levels: 6,\n  },\n  then: (editor, { options: { levels } = {} }) => {\n    const plugins: PlatePlugin<HeadingPlugin>[] = [];\n\n    for (let level = 1; level <= levels!; level++) {\n      const key = KEYS_HEADING[level - 1];\n\n      const plugin: PlatePlugin<HeadingPlugin> = {\n        key,\n        isElement: true,\n        deserializeHtml: {\n          rules: [\n            {\n              validNodeName: `H${level}`,\n            },\n          ],\n        },\n        handlers: {\n          onKeyDown: onKeyDownToggleElement,\n        },\n        options: {},\n      };\n\n      if (level < 4) {\n        plugin.options!.hotkey = [`mod+opt+${level}`, `mod+shift+${level}`];\n      }\n\n      plugins.push(plugin);\n    }\n\n    return {\n      plugins,\n    };\n  },\n});\n"],"names":["ELEMENT_H1","ELEMENT_H2","ELEMENT_H3","ELEMENT_H4","ELEMENT_H5","ELEMENT_H6","KEYS_HEADING","createHeadingPlugin","createPluginFactory","key","options","levels","then","editor","plugins","level","plugin","isElement","deserializeHtml","rules","validNodeName","handlers","onKeyDown","onKeyDownToggleElement","hotkey","push"],"mappings":";;AAAO,MAAMA,UAAU,GAAG,KAAnB;AACA,MAAMC,UAAU,GAAG,KAAnB;AACA,MAAMC,UAAU,GAAG,KAAnB;AACA,MAAMC,UAAU,GAAG,KAAnB;AACA,MAAMC,UAAU,GAAG,KAAnB;AACA,MAAMC,UAAU,GAAG,KAAnB;AAEMC,MAAAA,YAAY,GAAG,CAC1BN,UAD0B,EAE1BC,UAF0B,EAG1BC,UAH0B,EAI1BC,UAJ0B,EAK1BC,UAL0B,EAM1BC,UAN0B;;ACC5B;AACA;AACA;AACA;AACaE,MAAAA,mBAAmB,GAAGC,mBAAmB,CAAiB;AACrEC,EAAAA,GAAG,EAAE,SADgE;AAErEC,EAAAA,OAAO,EAAE;AACPC,IAAAA,MAAM,EAAE,CAAA;GAH2D;EAKrEC,IAAI,EAAE,CAACC,MAAD,EAAS;AAAEH,IAAAA,OAAO,EAAE;AAAEC,MAAAA,MAAAA;KAAW,GAAA,EAAA;AAAxB,GAAT,KAA0C;IAC9C,MAAMG,OAAqC,GAAG,EAA9C,CAAA;;IAEA,KAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,IAAIJ,MAA7B,EAAsCI,KAAK,EAA3C,EAA+C;AAC7C,MAAA,MAAMN,GAAG,GAAGH,YAAY,CAACS,KAAK,GAAG,CAAT,CAAxB,CAAA;AAEA,MAAA,MAAMC,MAAkC,GAAG;QACzCP,GADyC;AAEzCQ,QAAAA,SAAS,EAAE,IAF8B;AAGzCC,QAAAA,eAAe,EAAE;AACfC,UAAAA,KAAK,EAAE,CACL;YACEC,aAAa,EAAG,IAAGL,KAAM,CAAA,CAAA;WAFtB,CAAA;SAJgC;AAUzCM,QAAAA,QAAQ,EAAE;AACRC,UAAAA,SAAS,EAAEC,sBAAAA;SAX4B;AAazCb,QAAAA,OAAO,EAAE,EAAA;OAbX,CAAA;;MAgBA,IAAIK,KAAK,GAAG,CAAZ,EAAe;AACbC,QAAAA,MAAM,CAACN,OAAP,CAAgBc,MAAhB,GAAyB,CAAE,CAAUT,QAAAA,EAAAA,KAAM,CAAlB,CAAA,EAAsB,CAAYA,UAAAA,EAAAA,KAAM,EAAxC,CAAzB,CAAA;AACD,OAAA;;MAEDD,OAAO,CAACW,IAAR,CAAaT,MAAb,CAAA,CAAA;AACD,KAAA;;IAED,OAAO;AACLF,MAAAA,OAAAA;KADF,CAAA;AAGD,GAAA;AArCoE,CAAjB;;;;"}