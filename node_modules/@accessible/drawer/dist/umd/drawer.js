!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t((e=e||self).Drawer={},e.React,e.ReactDOM)}(this,(function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t,n,r){var o=x(n),l=x(r);C((function(){function n(){if(!i){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];o.current.apply(this,t)}}var r=e&&"current"in e?e.current:e;if(r){var i=0;r.addEventListener(t,n);var u=l.current;return function(){i=1,r.removeEventListener(t,n),u&&u()}}}),[e,t])}function l(e,t){o(e,"keydown",(function(e){var n=t[w[e.key]||e.key];n&&n(e)}))}function i(e){return e.node}function u(e,n,r){void 0===n&&(n=0);var l=void 0===r?L:r,i=l.includeRoot,u=l.preventScroll,c=function(){var t=e&&"current"in e?e.current:e;if(t&&n){var r=k(t,i);r.length>0&&r[0].focus({preventScroll:u})}},a=x(c);t.useEffect((function(){a.current()}),[a,n]),o(e,"transitionend",c)}function c(e,n){var r=t.useRef(n);return t.useEffect((function(){r.current=e}),[e]),r.current}function a(e){return!e}function s(){}function f(e,n){var r=t.useRef(0),i=function(){return r.current=1};return o(e,"touchstart",i),o(e,"mousedown",i),l(e,{Enter:n," ":n}),{onClick:function(e){r.current&&n(e),r.current=0},role:"button",tabIndex:0}}function d(e,t){var n=t.provider,r=t.value;return F(n,{value:r},e)}function p(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=p(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function v(){for(var e,t,n=0,r="";arguments.length>n;)(e=arguments[n++])&&(t=p(e))&&(r&&(r+=" "),r+=t);return r}function y(){return t.useContext(J)}function m(e){var n=e.id,o=e.open,l=e.defaultOpen,i=e.onChange,u=void 0===i?E:i,f=e.children;n=function(e,n){void 0===n&&(n="ðŸ…°");var r=t.useState(_?B:void 0),o=r[0],l=r[1];return C((function(){_||(_=1,l(U++))}),[]),e||(void 0===o?o:n+o)}(n);var d=function(e,n,o){void 0===e&&(e=0),void 0===o&&(o=s);var l=t.useState(null!=n?n:e),i=l[0],u=l[1];return function(e,n){var r=x(n),o=c(e,e);t.useEffect((function(){e!==o&&r.current(e,o)}),[e,o,r])}(i,o),[null!=n?n:i,r(M((function(){return u(a)}),T),{on:M((function(){return u(1)}),T),off:M((function(){return u(0)}),T)})]}(l,o,u),p=d[0],v=d[1],y=t.useMemo((function(){return{id:n,open:v.on,close:v.off,toggle:v,isOpen:p}}),[n,p,v]);return H(J.Provider,{value:y},f)}function h(e,t){void 0===t&&(t={});var n=t,o=n.preventScroll,i=n.closeOnEscape,a=void 0===i?1:i,s=n.openClass,f=n.closedClass,d=n.openStyle,p=n.closedStyle,v=y(),m=v.id,h=v.isOpen,b=v.close;return u(e,!c(h)&&h,{includeRoot:1,preventScroll:o}),l(e,{Escape:function(){return a&&b()}}),{"aria-hidden":!h,id:m,className:h?s:f,style:r({visibility:h?"visible":"hidden"},h?d:p)}}function b(e){var n=e.closeOnEscape,o=void 0===n?1:n,l=e.portal,i=e.openClass,u=e.closedClass,c=e.openStyle,a=e.closedStyle,s=e.preventScroll,f=e.children,d=t.useRef(null),p=f.props,y=h(d,{openClass:v(p.className,i)||void 0,closedClass:v(p.className,u)||void 0,openStyle:p.style?r({},p.style,c):c,closedStyle:p.style?r({},p.style,a):a,closeOnEscape:o,preventScroll:s});return function(e,t){if(!t)return e;var n={children:e};return"string"==typeof t?n.container=t:r(n,t),H(G,n)}(t.cloneElement(f,r(y,{ref:q(d,f.ref)})),l)}function g(e,t){var n=(void 0===t?{}:t).onClick,o=y(),l=o.close,i=o.isOpen;return r({"aria-controls":o.id,"aria-expanded":i,"aria-label":"Close"},f(e,(function(e){l(),null==n||n(e)})))}function S(e,t){void 0===t&&(t={});var n=t,o=n.openClass,l=n.closedClass,i=n.openStyle,a=n.closedStyle,s=n.onClick,d=y(),p=d.isOpen,v=d.id,m=d.toggle;return u(e,c(p)&&!p,{includeRoot:1}),r({"aria-controls":v,"aria-expanded":p,className:p?o:l,style:p?i:a},f(e,(function(e){m(),null==s||s(e)})))}function E(){}var C=t["undefined"!=typeof document&&void 0!==document.createElement?"useLayoutEffect":"useEffect"],x=function(e){var n=t.useRef(e);return n.current=e,n},w={Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Left:"ArrowLeft",Esc:"Escape",Spacebar:" ",Del:"Delete",Crsel:"CrSel",Exsel:"ExSel",Add:"+",Subtract:"-",Multiply:"*",Divide:"/",Decimal:".",Scroll:"ScrollLock"},O='input,select,textarea,a[href],button,[tabindex],audio[controls],video[controls],[contenteditable]:not([contenteditable="false"])',A="undefined"==typeof Element?function(){return 0}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,k=function(e,t){void 0===t&&(t=0);var n,r,o,l=[],u=[],c=e.querySelectorAll(O);for(t&&A.call(e,O)&&(c=Array.prototype.slice.apply(c)).unshift(e),n=0;n<c.length;n++)r=c[n],R(r)&&(0===(o=N(r))?l.push(r):u.push({documentOrder:n,tabIndex:o,node:r}));return u.sort(I).map(i).concat(l)},R=function(e){return!(!D(e)||"INPUT"===e.tagName&&"radio"===e.type&&!j(e)||0>N(e))},D=function(e){return!(e.disabled||P(e)&&"hidden"===e.type||null===e.offsetParent||"hidden"===getComputedStyle(e).visibility)},N=function(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?"true"===e.contentEditable?0:e.tabIndex:t},I=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},P=function(e){return"INPUT"===e.tagName},j=function(e){if(!e.name)return 1;if(e.ownerDocument){for(var t=e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'),n=0;n<t.length;n++)if(t[n].checked)return t[n]===e;return 1}return 0},L={includeRoot:0,preventScroll:0},M=t.useCallback,T=[],q=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){"function"==typeof t?t(e):t&&"object"==typeof t&&(t.current=e)}))}},U=0,B=function(){return U++},_=0,F=t.createElement,z=function(e){return"undefined"!=typeof document&&document.querySelectorAll(e)},G=function(e){var r=e.container,o=void 0===r?"#portals":r,l=e.server,i=void 0===l?1:l,u=e.providers,c=e.children,a=t.useState(z(o)),s=a[0],f=a[1];if(t.useEffect((function(){f(z(o))}),[o]),0==s)i&&void 0!==u&&u.length>0&&(c=u.reduceRight(d,c));else if(s.length>0){for(var p=[],v=0;v<s.length;v++)p.push(n.createPortal(c,s[v]));return F(t.Fragment,null,p)}return null},H=t.createElement,J=t.createContext({isOpen:0,open:E,close:E,toggle:E}),K=t.createElement,Q={top:{position:"fixed",top:0,right:0,bottom:"auto",left:0,transform:"translate3d(0, -100%, 0)"},right:{position:"fixed",top:0,right:0,bottom:0,left:"auto",transform:"translate3d(100%, 0, 0)"},bottom:{position:"fixed",top:"auto",right:0,bottom:0,left:0,transform:"translate3d(0, 100%, 0)"},left:{position:"fixed",top:0,right:"auto",bottom:0,left:0,transform:"translate3d(-100%, 0, 0)"}},V={transform:"translate3d(0, 0, 0)"};e.CloseButton=function(e){var n=e.children,o=t.useRef(null),l=n.props,i=g(o,{onClick:l.onClick});return t.cloneElement(n,r(i,{"aria-label":l.hasOwnProperty("aria-label")?l["aria-label"]:i["aria-label"],ref:q(o,n.ref)}))},e.Drawer=function(e){return K(m,e)},e.Target=function(e){var n=e.children.props;return K(b,r({},e,{openStyle:r({},V,e.openStyle)}),t.cloneElement(e.children,{style:r({},Q[e.placement||"left"],n.style)}))},e.Trigger=function(e){var n=e.openClass,o=e.closedClass,l=e.openStyle,i=e.closedStyle,u=e.children,c=t.useRef(null),a=u.props,s=S(c,{openClass:v(a.className,n)||void 0,closedClass:v(a.className,o)||void 0,openStyle:a.style?r({},a.style,l):l,closedStyle:a.style?r({},a.style,i):i}),f=s.onClick;return t.cloneElement(u,r(s,{onClick:function(e){var t;f(e),null===(t=a.onClick)||void 0===t||t.call(a,e)},ref:q(c,u.ref)}))},e.useA11yCloseButton=g,e.useA11yTarget=function(e,t){void 0===t&&(t={});var n=h(e,r({},t,{openStyle:r(V,t.openStyle)}));return r(n,{style:r(n.style,Q[t.placement||"left"])})},e.useA11yTrigger=S,e.useDrawer=function(){return y()},Object.defineProperty(e,"__esModule",{value:1})}));
//# sourceMappingURL=drawer.js.map
