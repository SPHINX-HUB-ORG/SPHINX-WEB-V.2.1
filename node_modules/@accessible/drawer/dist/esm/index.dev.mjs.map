{"version":3,"file":"index.dev.mjs","sources":["../../src/index.tsx"],"sourcesContent":["import * as React from 'react'\nimport {\n  Disclosure,\n  Target as DisclosureTarget,\n  useA11yTarget as useA11yDisclosureTarget,\n  useDisclosure,\n} from '@accessible/disclosure'\nimport type {\n  DisclosureProps,\n  DisclosureContextValue,\n  TargetProps as DisclosureTargetProps,\n  UseA11yTargetOptions as UseA11yDisclosureTargetOptions,\n} from '@accessible/disclosure'\n\n/**\n * This hook provides the current value of the drawer's context object\n */\nexport function useDrawer(): DrawerContextValue {\n  return useDisclosure()\n}\n\n/**\n * This component creates the context for your drawer target and trigger\n * and contains some configuration options.\n */\nexport function Drawer(props: DrawerProps) {\n  return <Disclosure {...props} />\n}\n\n/**\n * A React hook for creating a headless drawer target to [WAI-ARIA authoring practices](https://www.w3.org/TR/wai-aria-practices/examples/dialog-drawer/dialog.html).\n *\n * @param target A React ref or HTML element\n * @param options Configuration options\n */\nexport function useA11yTarget<T extends HTMLElement>(\n  target: React.RefObject<T> | T | null,\n  options: UseA11yTargetOptions = {}\n) {\n  const disclosureProps = useA11yDisclosureTarget(\n    target,\n    Object.assign({}, options, {\n      openStyle: Object.assign(defaultOpenStyles, options.openStyle),\n    })\n  )\n\n  return Object.assign(disclosureProps, {\n    style: Object.assign(\n      disclosureProps.style,\n      defaultClosedStyles[options.placement || 'left']\n    ),\n  } as const)\n}\n\n/**\n * This component wraps any React element and turns it into a\n * drawer target.\n */\nexport function Target(props: TargetProps) {\n  const childProps = props.children.props\n  return React.createElement(\n    DisclosureTarget,\n    Object.assign({}, props, {\n      openStyle: Object.assign({}, defaultOpenStyles, props.openStyle),\n    }),\n    React.cloneElement(props.children, {\n      style: Object.assign(\n        {},\n        defaultClosedStyles[props.placement || 'left'],\n        childProps.style\n      ),\n    })\n  )\n}\n\nconst defaultClosedStyles = {\n  top: {\n    position: 'fixed',\n    top: 0,\n    right: 0,\n    bottom: 'auto',\n    left: 0,\n    transform: 'translate3d(0, -100%, 0)',\n  },\n  right: {\n    position: 'fixed',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 'auto',\n    transform: 'translate3d(100%, 0, 0)',\n  },\n  bottom: {\n    position: 'fixed',\n    top: 'auto',\n    right: 0,\n    bottom: 0,\n    left: 0,\n    transform: 'translate3d(0, 100%, 0)',\n  },\n  left: {\n    position: 'fixed',\n    top: 0,\n    right: 'auto',\n    bottom: 0,\n    left: 0,\n    transform: 'translate3d(-100%, 0, 0)',\n  },\n} as const\n\nconst defaultOpenStyles = {\n  transform: 'translate3d(0, 0, 0)',\n} as const\n\nexport {\n  Trigger,\n  CloseButton,\n  useA11yTrigger,\n  useA11yCloseButton,\n} from '@accessible/disclosure'\n\nexport type {\n  TriggerProps,\n  CloseButtonProps,\n  UseA11yTriggerOptions,\n  UseA11yCloseButtonOptions,\n} from '@accessible/disclosure'\n\nexport interface DrawerProps extends DisclosureProps {}\nexport interface DrawerContextValue extends DisclosureContextValue {}\nexport interface UseA11yTargetOptions extends UseA11yDisclosureTargetOptions {\n  /**\n   * Sets the placement of the drawer menu\n   * @default \"left\"\n   */\n  placement?: 'top' | 'right' | 'bottom' | 'left'\n}\nexport interface TargetProps\n  extends DisclosureTargetProps,\n    UseA11yTargetOptions {}\n\n/* istanbul ignore next */\nif (typeof process !== 'undefined' && process.env.NODE_ENV !== 'production') {\n  Drawer.displayName = 'Drawer'\n  Target.displayName = 'Target'\n}\n"],"names":["useDrawer","useDisclosure","Drawer","props","useA11yTarget","target","options","disclosureProps","useA11yDisclosureTarget","Object","assign","openStyle","defaultOpenStyles","style","defaultClosedStyles","placement","Target","childProps","children","DisclosureTarget","React","top","position","right","bottom","left","transform","process","displayName"],"mappings":"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"}