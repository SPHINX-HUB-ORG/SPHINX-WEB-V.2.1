{"version":3,"file":"index.mjs","sources":["../../src/index.tsx"],"sourcesContent":["import * as React from 'react'\nimport {\n  Disclosure,\n  Target as DisclosureTarget,\n  useA11yTarget as useA11yDisclosureTarget,\n  useDisclosure,\n} from '@accessible/disclosure'\nimport type {\n  DisclosureProps,\n  DisclosureContextValue,\n  TargetProps as DisclosureTargetProps,\n  UseA11yTargetOptions as UseA11yDisclosureTargetOptions,\n} from '@accessible/disclosure'\n\n/**\n * This hook provides the current value of the drawer's context object\n */\nexport function useDrawer(): DrawerContextValue {\n  return useDisclosure()\n}\n\n/**\n * This component creates the context for your drawer target and trigger\n * and contains some configuration options.\n */\nexport function Drawer(props: DrawerProps) {\n  return <Disclosure {...props} />\n}\n\n/**\n * A React hook for creating a headless drawer target to [WAI-ARIA authoring practices](https://www.w3.org/TR/wai-aria-practices/examples/dialog-drawer/dialog.html).\n *\n * @param target A React ref or HTML element\n * @param options Configuration options\n */\nexport function useA11yTarget<T extends HTMLElement>(\n  target: React.RefObject<T> | T | null,\n  options: UseA11yTargetOptions = {}\n) {\n  const disclosureProps = useA11yDisclosureTarget(\n    target,\n    Object.assign({}, options, {\n      openStyle: Object.assign(defaultOpenStyles, options.openStyle),\n    })\n  )\n\n  return Object.assign(disclosureProps, {\n    style: Object.assign(\n      disclosureProps.style,\n      defaultClosedStyles[options.placement || 'left']\n    ),\n  } as const)\n}\n\n/**\n * This component wraps any React element and turns it into a\n * drawer target.\n */\nexport function Target(props: TargetProps) {\n  const childProps = props.children.props\n  return React.createElement(\n    DisclosureTarget,\n    Object.assign({}, props, {\n      openStyle: Object.assign({}, defaultOpenStyles, props.openStyle),\n    }),\n    React.cloneElement(props.children, {\n      style: Object.assign(\n        {},\n        defaultClosedStyles[props.placement || 'left'],\n        childProps.style\n      ),\n    })\n  )\n}\n\nconst defaultClosedStyles = {\n  top: {\n    position: 'fixed',\n    top: 0,\n    right: 0,\n    bottom: 'auto',\n    left: 0,\n    transform: 'translate3d(0, -100%, 0)',\n  },\n  right: {\n    position: 'fixed',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 'auto',\n    transform: 'translate3d(100%, 0, 0)',\n  },\n  bottom: {\n    position: 'fixed',\n    top: 'auto',\n    right: 0,\n    bottom: 0,\n    left: 0,\n    transform: 'translate3d(0, 100%, 0)',\n  },\n  left: {\n    position: 'fixed',\n    top: 0,\n    right: 'auto',\n    bottom: 0,\n    left: 0,\n    transform: 'translate3d(-100%, 0, 0)',\n  },\n} as const\n\nconst defaultOpenStyles = {\n  transform: 'translate3d(0, 0, 0)',\n} as const\n\nexport {\n  Trigger,\n  CloseButton,\n  useA11yTrigger,\n  useA11yCloseButton,\n} from '@accessible/disclosure'\n\nexport type {\n  TriggerProps,\n  CloseButtonProps,\n  UseA11yTriggerOptions,\n  UseA11yCloseButtonOptions,\n} from '@accessible/disclosure'\n\nexport interface DrawerProps extends DisclosureProps {}\nexport interface DrawerContextValue extends DisclosureContextValue {}\nexport interface UseA11yTargetOptions extends UseA11yDisclosureTargetOptions {\n  /**\n   * Sets the placement of the drawer menu\n   * @default \"left\"\n   */\n  placement?: 'top' | 'right' | 'bottom' | 'left'\n}\nexport interface TargetProps\n  extends DisclosureTargetProps,\n    UseA11yTargetOptions {}\n\n/* istanbul ignore next */\nif (typeof process !== 'undefined' && process.env.NODE_ENV !== 'production') {\n  Drawer.displayName = 'Drawer'\n  Target.displayName = 'Target'\n}\n"],"names":["useDrawer","useDisclosure","Drawer","props","__reactCreateElement__","Disclosure","useA11yTarget","target","options","disclosureProps","useA11yDisclosureTarget","Object","assign","openStyle","defaultOpenStyles","style","defaultClosedStyles","placement","Target","childProps","children","DisclosureTarget","React","top","position","right","bottom","left","transform"],"mappings":"+MAiBO,SAASA,WACPC,IAOF,SAASC,EAAOC,UACdC,EAACC,OAAeF,IASlB,SAASG,EACdC,EACAC,YAAAA,IAAAA,EAAgC,QAE1BC,EAAkBC,EACtBH,EACAI,OAAOC,OAAO,GAAIJ,EAAS,CACzBK,UAAWF,OAAOC,OAAOE,EAAmBN,EAAQK,qBAIjDF,OAAOC,OAAOH,EAAiB,CACpCM,MAAOJ,OAAOC,OACZH,EAAgBM,MAChBC,EAAoBR,EAAQS,WAAa,WASxC,SAASC,EAAOf,OACfgB,EAAahB,EAAMiB,SAASjB,aAC3BC,EACLiB,EACAV,OAAOC,OAAO,GAAIT,EAAO,CACvBU,UAAWF,OAAOC,OAAO,GAAIE,EAAmBX,EAAMU,aAExDS,EAAmBnB,EAAMiB,SAAU,CACjCL,MAAOJ,OAAOC,OACZ,GACAI,EAAoBb,EAAMc,WAAa,QACvCE,EAAWJ,0QAMbC,EAAsB,CAC1BO,IAAK,CACHC,SAAU,QACVD,IAAK,EACLE,MAAO,EACPC,OAAQ,OACRC,KAAM,EACNC,UAAW,4BAEbH,MAAO,CACLD,SAAU,QACVD,IAAK,EACLE,MAAO,EACPC,OAAQ,EACRC,KAAM,OACNC,UAAW,2BAEbF,OAAQ,CACNF,SAAU,QACVD,IAAK,OACLE,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,UAAW,2BAEbD,KAAM,CACJH,SAAU,QACVD,IAAK,EACLE,MAAO,OACPC,OAAQ,EACRC,KAAM,EACNC,UAAW,6BAITd,EAAoB,CACxBc,UAAW"}