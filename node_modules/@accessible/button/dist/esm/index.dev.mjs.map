{"version":3,"file":"index.dev.mjs","sources":["../../src/index.tsx"],"sourcesContent":["import * as React from 'react'\nimport useKey from '@accessible/use-key'\nimport useEvent from '@react-hook/event'\nimport useMergedRef from '@react-hook/merged-ref'\n\nexport function useA11yButton<T extends HTMLElement>(\n  target: React.RefObject<T> | T | null,\n  onClick: (event: MouseEvent) => any\n) {\n  const clickedMouse = React.useRef(false)\n  const setClickedMouse = () => (clickedMouse.current = true)\n  useEvent(target, 'touchstart', setClickedMouse)\n  useEvent(target, 'mousedown', setClickedMouse)\n  useEvent(target, 'click', (event) => {\n    // Only fire onClick if the keyboard was not used to initiate the click\n    clickedMouse.current && onClick(event)\n    clickedMouse.current = false\n  })\n  // @ts-expect-error\n  useKey(target, {\n    Enter: onClick,\n    ' ': onClick,\n  })\n\n  return {\n    role: 'button',\n    tabIndex: 0,\n  } as const\n}\n\nexport const Button = ({children}: ButtonProps) => {\n  const ref = React.useRef(null)\n  const {props} = children\n  const {role, tabIndex} = useA11yButton(ref, props.onClick)\n\n  return React.cloneElement(children, {\n    onClick: undefined,\n    role: props.hasOwnProperty('role') ? props.role : role,\n    tabIndex: props.hasOwnProperty('tabIndex') ? props.tabIndex : tabIndex,\n    // @ts-expect-error\n    ref: useMergedRef(ref, children.ref),\n  })\n}\n\nexport interface ButtonProps {\n  children: JSX.Element | React.ReactElement\n}\n\n/* istanbul ignore next */\nif (typeof process !== 'undefined' && process.env.NODE_ENV !== 'production') {\n  Button.displayName = 'AccessibleButton'\n}\n"],"names":["useA11yButton","target","onClick","clickedMouse","React","setClickedMouse","current","useEvent","event","useKey","Enter","role","tabIndex","Button","children","ref","props","undefined","hasOwnProperty","useMergedRef","process","displayName"],"mappings":";;;;;AAKO,SAASA,aAAT,CACLC,MADK,EAELC,OAFK,EAGL;AACA,MAAMC,YAAY,GAAGC,MAAA,CAAa,KAAb,CAArB;;AACA,MAAMC,eAAe,GAAG,MAAOF,YAAY,CAACG,OAAb,GAAuB,IAAtD;;AACAC,EAAAA,QAAQ,CAACN,MAAD,EAAS,YAAT,EAAuBI,eAAvB,CAAR;AACAE,EAAAA,QAAQ,CAACN,MAAD,EAAS,WAAT,EAAsBI,eAAtB,CAAR;AACAE,EAAAA,QAAQ,CAACN,MAAD,EAAS,OAAT,EAAmBO,KAAD,IAAW;AACnC;AACAL,IAAAA,YAAY,CAACG,OAAb,IAAwBJ,OAAO,CAACM,KAAD,CAA/B;AACAL,IAAAA,YAAY,CAACG,OAAb,GAAuB,KAAvB;AACD,GAJO,CAAR,CALA;;AAWAG,EAAAA,MAAM,CAACR,MAAD,EAAS;AACbS,IAAAA,KAAK,EAAER,OADM;AAEb,SAAKA;AAFQ,GAAT,CAAN;AAKA,SAAO;AACLS,IAAAA,IAAI,EAAE,QADD;AAELC,IAAAA,QAAQ,EAAE;AAFL,GAAP;AAID;IAEYC,MAAM,GAAG,UAA6B;AAAA,MAA5B;AAACC,IAAAA;AAAD,GAA4B;AACjD,MAAMC,GAAG,GAAGX,MAAA,CAAa,IAAb,CAAZ;AACA,MAAM;AAACY,IAAAA;AAAD,MAAUF,QAAhB;AACA,MAAM;AAACH,IAAAA,IAAD;AAAOC,IAAAA;AAAP,MAAmBZ,aAAa,CAACe,GAAD,EAAMC,KAAK,CAACd,OAAZ,CAAtC;AAEA,sBAAOE,YAAA,CAAmBU,QAAnB,EAA6B;AAClCZ,IAAAA,OAAO,EAAEe,SADyB;AAElCN,IAAAA,IAAI,EAAEK,KAAK,CAACE,cAAN,CAAqB,MAArB,IAA+BF,KAAK,CAACL,IAArC,GAA4CA,IAFhB;AAGlCC,IAAAA,QAAQ,EAAEI,KAAK,CAACE,cAAN,CAAqB,UAArB,IAAmCF,KAAK,CAACJ,QAAzC,GAAoDA,QAH5B;AAIlC;AACAG,IAAAA,GAAG,EAAEI,YAAY,CAACJ,GAAD,EAAMD,QAAQ,CAACC,GAAf;AALiB,GAA7B,CAAP;AAOD;;AAMD;AACA,IAAI,OAAOK,OAAP,KAAmB,WAAnB,IAAkCA,YAAA,KAAyB,YAA/D,EAA6E;AAC3EP,EAAAA,MAAM,CAACQ,WAAP,GAAqB,kBAArB;AACD;;;;"}