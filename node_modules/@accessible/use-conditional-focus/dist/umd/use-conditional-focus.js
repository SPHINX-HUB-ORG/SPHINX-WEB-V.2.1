!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e=e||self).useConditionalFocus=t(e.React)}(this,(function(e){"use strict";function t(e){return e.node}var n='input,select,textarea,a[href],button,[tabindex],audio[controls],video[controls],[contenteditable]:not([contenteditable="false"])',r="undefined"==typeof Element?function(){return 0}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,o=function(e,o){void 0===o&&(o=0);var c,f,d,l=[],s=[],p=e.querySelectorAll(n);for(o&&r.call(e,n)&&(p=Array.prototype.slice.apply(p)).unshift(e),c=0;c<p.length;c++)f=p[c],u(f)&&(0===(d=i(f))?l.push(f):s.push({documentOrder:c,tabIndex:d,node:f}));return s.sort(a).map(t).concat(l)},u=function(e){return!(!c(e)||"INPUT"===e.tagName&&"radio"===e.type&&!d(e)||0>i(e))},c=function(e){return!(e.disabled||f(e)&&"hidden"===e.type||null===e.offsetParent||"hidden"===getComputedStyle(e).visibility)},i=function(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?"true"===e.contentEditable?0:e.tabIndex:t},a=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},f=function(e){return"INPUT"===e.tagName},d=function(e){if(!e.name)return 1;if(e.ownerDocument){for(var t=e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'),n=0;n<t.length;n++)if(t[n].checked)return t[n]===e;return 1}return 0},l=e["undefined"!=typeof document&&void 0!==document.createElement?"useLayoutEffect":"useEffect"],s=function(t){var n=e.useRef(t);return n.current=t,n},p={includeRoot:0,preventScroll:0};return function(t,n,r){function u(){f.current=0,d.current=0}void 0===n&&(n=0);var c=void 0===r?p:r,i=c.includeRoot,a=c.preventScroll,f=e.useRef(0),d=e.useRef(0);e.useEffect((function(){var e=t&&"current"in t?t.current:t;if(e&&n&&!f.current){var r=o(e,i);r.length>0&&r[0].focus({preventScroll:a}),f.current=1}}),[t,i,a,n]),e.useEffect((function(){return u}),[n]),function(e,t,n){var r=s(n),o=s(void 0);l((function(){function n(){if(!c){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];r.current.apply(this,t)}}var u=e&&"current"in e?e.current:e;if(u){var c=0;u.addEventListener(t,n);var i=o.current;return function(){c=1,u.removeEventListener(t,n),i&&i()}}}),[e,t])}(t,"transitionend",(function(){var e=t&&"current"in t?t.current:t;if(e&&n&&!d.current){var r=o(e,i);r.length>0&&r[0].focus({preventScroll:a}),d.current=1}}))}}));
//# sourceMappingURL=use-conditional-focus.js.map
