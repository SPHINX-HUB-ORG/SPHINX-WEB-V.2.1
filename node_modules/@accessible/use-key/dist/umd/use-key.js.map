{"version":3,"file":"use-key.js","sources":["../../src/index.tsx","../../node_modules/@react-hook/event/src/index.tsx","../../node_modules/@react-hook/passive-layout-effect/src/index.tsx","../../node_modules/@react-hook/latest/src/index.tsx"],"sourcesContent":["import * as React from 'react'\nimport useEvent from '@react-hook/event'\n\nexport function useKey<T extends Window>(\n  target: T | null,\n  listeners: Record<string, (event: KeyboardEvent) => any>\n): void\nexport function useKey<T extends Document>(\n  target: T | null,\n  listeners: Record<string, (event: KeyboardEvent) => any>\n): void\nexport function useKey<T extends HTMLElement>(\n  target: React.RefObject<T> | T | null,\n  listeners: Record<string, (event: KeyboardEvent) => any>\n): void\nexport function useKey(\n  target: any,\n  listeners: Record<string, (event: KeyboardEvent) => any>\n) {\n  useEvent(target, 'keydown', (event): void => {\n    const listener = listeners[LEGACY_COMPAT[event.key] || event.key]\n    if (listener) listener(event)\n  })\n}\n\n// IE 11 and some versions of Edge have non-standard value\nconst LEGACY_COMPAT: Record<string, string> = {\n  Up: 'ArrowUp',\n  Right: 'ArrowRight',\n  Down: 'ArrowDown',\n  Left: 'ArrowLeft',\n  Esc: 'Escape',\n  Spacebar: ' ',\n  Del: 'Delete',\n  Crsel: 'CrSel',\n  Exsel: 'ExSel',\n  Add: '+',\n  Subtract: '-',\n  Multiply: '*',\n  Divide: '/',\n  Decimal: '.',\n  Scroll: 'ScrollLock',\n}\n\nexport default useKey\n","import * as React from 'react'\nimport useLayoutEffect from '@react-hook/passive-layout-effect'\nimport useLatest from '@react-hook/latest'\n\nfunction useEvent<\n  T extends Window = Window,\n  K extends keyof WindowEventMap = keyof WindowEventMap\n>(\n  target: Window | null,\n  type: K,\n  listener: WindowEventListener<K>,\n  cleanup?: (...args: any[]) => void\n): void\nfunction useEvent<\n  T extends Document = Document,\n  K extends keyof DocumentEventMap = keyof DocumentEventMap\n>(\n  target: Document | null,\n  type: K,\n  listener: DocumentEventListener<K>,\n  cleanup?: (...args: any[]) => void\n): void\nfunction useEvent<\n  T extends HTMLElement = HTMLElement,\n  K extends keyof HTMLElementEventMap = keyof HTMLElementEventMap\n>(\n  target: React.RefObject<T> | T | null,\n  type: K,\n  listener: ElementEventListener<K>,\n  cleanup?: (...args: any[]) => void\n): void\nfunction useEvent(target: any, type: any, listener: any, cleanup: any): void {\n  const storedListener = useLatest(listener)\n  const storedCleanup = useLatest(cleanup)\n\n  useLayoutEffect(() => {\n    const targetEl = target && 'current' in target ? target.current : target\n    if (!targetEl) return\n\n    let didUnsubscribe = 0\n    function listener(this: any, ...args: any[]) {\n      if (didUnsubscribe) return\n      storedListener.current.apply(this, args)\n    }\n\n    targetEl.addEventListener(type, listener)\n    const cleanup = storedCleanup.current\n\n    return () => {\n      didUnsubscribe = 1\n      targetEl.removeEventListener(type, listener)\n      cleanup && cleanup()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [target, type])\n}\n\nexport type ElementEventListener<\n  K extends keyof HTMLElementEventMap = keyof HTMLElementEventMap\n> = (this: HTMLElement, ev: HTMLElementEventMap[K]) => any\n\nexport type DocumentEventListener<\n  K extends keyof DocumentEventMap = keyof DocumentEventMap\n> = (this: Document, ev: DocumentEventMap[K]) => any\n\nexport type WindowEventListener<\n  K extends keyof WindowEventMap = keyof WindowEventMap\n> = (this: Document, ev: WindowEventMap[K]) => any\n\nexport default useEvent\n","import * as React from 'react'\n\nconst usePassiveLayoutEffect =\n  React[\n    typeof document !== 'undefined' && document.createElement !== void 0\n      ? 'useLayoutEffect'\n      : 'useEffect'\n  ]\n\nexport default usePassiveLayoutEffect\n","import * as React from 'react'\n\nconst useLatest = <T extends any>(current: T) => {\n  const storedValue = React.useRef(current)\n  storedValue.current = current\n  return storedValue\n}\n\nexport default useLatest\n"],"names":["useKey","target","listeners","storedListener","useLatest","event","listener","LEGACY_COMPAT","key","storedCleanup","useEvent","useLayoutEffect","didUnsubscribe","args","current","apply","this","targetEl","addEventListener","cleanup","removeEventListener","usePassiveLayoutEffect","React","document","createElement","storedValue","Up","Right","Down","Left","Esc","Spacebar","Del","Crsel","Exsel","Add","Subtract","Multiply","Divide","Decimal","Scroll"],"mappings":"uOAeO,SAASA,EACdC,EACAC,ICcF,SAAkBD,OACVE,EAAiBC,GDbK,SAACC,OACrBC,EAAWJ,EAAUK,EAAcF,EAAMG,MAAQH,EAAMG,KACzDF,GAAUA,EAASD,MCYnBI,EAAgBL,ODdtBM,GCgBAC,GAAgB,oBAKLL,QACHM,8BAD0BC,2BAAAA,kBAE9BV,EAAeW,QAAQC,MAAMC,KAAMH,QAN/BI,EAAWhB,GAAU,YAAaA,EAASA,EAAOa,QAAUb,KAC7DgB,OAEDL,EAAiB,EAMrBK,EAASC,iBD1BM,UC0BiBZ,OAC1Ba,EAAUV,EAAcK,eAEvB,WACLF,EAAiB,EACjBK,EAASG,oBD/BI,UC+BsBd,GACnCa,GAAWA,QAGZ,CAAClB,EDnCa,YAAjBS,CAAST,GEjBX,IAAMoB,EACJC,EACsB,oBAAbC,eAAuD,IAA3BA,SAASC,cACxC,kBACA,aCJFpB,EAAY,SAAgBU,OAC1BW,EAAcH,SAAaR,UACjCW,EAAYX,QAAUA,EACfW,GHqBHlB,EAAwC,CAC5CmB,GAAI,UACJC,MAAO,aACPC,KAAM,YACNC,KAAM,YACNC,IAAK,SACLC,SAAU,IACVC,IAAK,SACLC,MAAO,QACPC,MAAO,QACPC,IAAK,IACLC,SAAU,IACVC,SAAU,IACVC,OAAQ,IACRC,QAAS,IACTC,OAAQ"}